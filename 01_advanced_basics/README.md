# Анализатор логов
Скрипт анализирует ngnix-логи проводя первичный анализ выявляя "подозрительные" url

## Про логи:
* семпл лога: nginx-access-ui.log-20170630.gz
* шаблон названия логов интерфейса соответствует названию сэмпла
* логи могут быть и plain и gzip

## Про отчет:
* count - сколько раз встречается URL, абсолютное значение
* count_perc - сколько раз встречается URL, в процентнах относительно общего числа запросов
* time_sum - суммарный $request_time для данного URL'а, абсолютное значение
* time_perc - суммарный $request_time для данного URL'а, в процентах относительно общего $request_time всех запросов
* time_avg - средний $request_time для данного URL'а
* time_max - максимальный $request_time для данного URL'a
* time_med - медиана $request_time для данного URL'а

## Основная функциональность:
1. Скрипт обрабатывает при запуске последний (со самой свежей датой в имени) лог в
LOG_DIR. 
  * читает лог; 
  * парсит нужные поля; 
  * считает необходимую статистику по url'ам;
  * рендерит шаблон report.html. 
2. Готовые отчеты лежат в REPORT_DIR . В отчет попадает REPORT_SIZE URL'ов с наибольшим суммарным временем обработки (time_sum).
3. Скрипту возможно указать считать конфиг из другого файла, передав его путь через --config.
